const voiceCloningButton = document.querySelector('.voiceCloningButton');
const voiceToTeXTButton = document.querySelector('.voiceToTeXTButton');
const realTimeTranslatorButton = document.querySelector('.realTimeTranslatorButton');
const shareChat = document.querySelector('.shareChat');
const inputVoiceMicrophoneNoticeHolder = document.querySelector('.inputVoiceMicrophoneNoticeHolder');
const leftSection = document.querySelector('.leftSection');
const chatLoader = document.getElementById("chatLoader");
const leftSectionChatLoaderAnimation = document.querySelector(".leftSectionChatLoaderAnimation");

const buttonsContainer = document.querySelector('.checkAndValidateChatOptionsToStart');

const chatContainerVoiceCloning = document.querySelector('.rightLowerSectionItemsHolderVoiceCloningButtonToChat');
const chatContainerVoiceToText = document.querySelector('.rightLowerSectionItemsHolderVoiceToTeXTButtonToChat');
const chatContainerRealTimeTranslator = document.querySelector('.rightLowerSectionItemsHolderRealTimeTranslatorButtonToChat');

const chatContainerTemplateParent = document.querySelector('.userChatHolder');

function showLoader() {
  chatLoader.style.display = "block";
  leftSectionChatLoaderAnimation.style.display = "flex";
}
function hideLoader() {
  chatLoader.style.display = "none";
  leftSectionChatLoaderAnimation.style.display = "none";
}

function chatTemplate(message = 'Default message') {
  const chatItem = document.createElement('div');
  chatItem.classList.add('userChatItemsContainer');

  chatItem.innerHTML = `
    <div class="userChatHere">
      <div class="vcChatHolder"><span>VC</span></div>
      <span>${message}</span>
    </div>
    <div class="userChatRenameDeleteToolKit">
      <img class="chatMenuOptionIcon" src="/Frontend/images/svgs/dot3Menu.svg" alt="">
    </div>
  `;

  chatContainerTemplateParent.appendChild(chatItem);
}

voiceCloningButton.addEventListener('click', function () {
  buttonsContainer.style.display = 'none';
  chatContainerVoiceCloning.style.display = 'flex';
  shareChat.style.display = 'flex';
  inputVoiceMicrophoneNoticeHolder.style.display = 'flex';
  leftSection.style.width = '15%';
  chatTemplate('Voice Cloning activated');
  showLoader();
  setTimeout(() => {
    hideLoader();
  }, 500);
});

voiceToTeXTButton.addEventListener('click', function () {
  buttonsContainer.style.display = 'none';
  chatContainerVoiceToText.style.display = 'flex';
  shareChat.style.display = 'flex';
  inputVoiceMicrophoneNoticeHolder.style.display = 'flex';
  leftSection.style.width = '15%';
  chatTemplate('Voice-to-Text activated');
  showLoader();
  setTimeout(() => {
    hideLoader();
  }, 500);
});

realTimeTranslatorButton.addEventListener('click', function () {
  buttonsContainer.style.display = 'none';
  chatContainerRealTimeTranslator.style.display = 'flex';
  shareChat.style.display = 'flex';
  inputVoiceMicrophoneNoticeHolder.style.display = 'flex';
  leftSection.style.width = '15%';
  chatTemplate('Real-Time Translator activated');
  showLoader();
  setTimeout(() => {
    hideLoader();
  }, 500);
});
